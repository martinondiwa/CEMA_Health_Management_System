<!-- app/templates/client_profile.html -->
{% extends "base.html" %}

{% block title %}Client Profile{% endblock %}

{% block client_styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/client.css') }}">
{% endblock %}

{% block content %}
<div class="client-profile-container">
  <h2>Client Profile</h2>

  <div class="profile-card">
    <h3>{{ client.full_name }}</h3>
    <p><strong>Date of Birth:</strong> {{ client.date_of_birth.strftime('%Y-%m-%d') }}</p>
    <p><strong>Gender:</strong> {{ client.gender }}</p>
    <p><strong>Contact Info:</strong> {{ client.contact_number }}</p>
    <p><strong>Address:</strong> {{ client.address }}</p>
    <p><strong>Country:</strong> {{ client.country }}</p>
    <p><strong>County:</strong> {{ client.county }}</p>
    <p><strong>Sub-county:</strong> {{ client.subcounty }}</p>
    <p><strong>Village:</strong> {{ client.village }}</p>
  </div>

 <div class="enrollments-section">
  <h3>Enrolled Programs</h3>
  {% if client.enrollments %}
    <ul class="enrollment-list">
      {% for enrollment in client.enrollments %}
        <li>
          <strong>{{ enrollment.program.title }}</strong>
          <br>
          <em>Type:</em> {{ enrollment.program.program_type.name }}
          <br>
          <em>Description:</em> {{ enrollment.program.description }}
          <br>
          <em>Admission No:</em> {{ client.admission_number }}
          <br>
          <em>Enrolled on:</em> {{ enrollment.enrollment_date.strftime('%Y-%m-%d') }}
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p>No enrollments found for this client.</p>
  {% endif %}
</div>

</div>
{% endblock %}
