<!-- doctor_dashboard.html -->
{% extends "base.html" %}

{% block title %}Doctor Dashboard{% endblock %}

{% block extra_styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="dashboard-container">
  <h2>Welcome, Dr. {{ current_user.name }}</h2>

  <div class="dashboard-sections">

    <!-- Create Program -->
    <div class="card">
      <h3>Create Program</h3>
      <form action="{{ url_for('doctor.create_program') }}" method="POST">
        {{ program_form.hidden_tag() }}
        <label for="name">Program Name</label>
        {{ program_form.name }}
        <label for="description">Description</label>
        {{ program_form.description }}
        <button type="submit" class="btn">Create</button>
      </form>
    </div>

    <!-- Register Client -->
 <!-- Register Client -->
<div class="card">
  <h3>Register New Client</h3>
  <form action="{{ url_for('doctor.register_client') }}" method="POST">
    {{ client_form.hidden_tag() }}

    <label for="first_name">First Name</label>
    {{ client_form.first_name }}

    <label for="middle_name">Middle Name</label>
    {{ client_form.middle_name }}

    <label for="sir_name">Sir Name</label>
    {{ client_form.sir_name }}

    <label for="date_of_birth">Date of Birth</label>
    {{ client_form.date_of_birth }}

    <label for="gender">Gender</label>
    {{ client_form.gender }}

    <label for="national_id">National ID (optional)</label>
    {{ client_form.national_id }}

    <label for="birth_certificate">Birth Certificate (optional)</label>
    {{ client_form.birth_certificate }}

    <label for="country">Country</label>
    {{ client_form.country }}

    <label for="county">County</label>
    {{ client_form.county }}

    <label for="subcounty">Sub-county</label>
    {{ client_form.subcounty }}

    <label for="village">Village / Locality</label>
    {{ client_form.village }}

    <label for="contact_number">Contact Number</label>
    {{ client_form.contact_number }}

    <label for="address">Address (optional)</label>
    {{ client_form.address }}

    <button type="submit" class="btn">Register</button>
  </form>
</div>


    <!-- Enroll Client -->
    <div class="card">
      <h3>Enroll Client in Program</h3>
      <table>
        <thead>
          <tr>
            <th>Client Name</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {% for client in clients %}
          <tr>
            <td>{{ client.name }}</td>
            <td>
              <a href="{{ url_for('doctor.enroll_client', client_id=client.id) }}" class="btn">Enroll</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>

    <!-- Search Clients -->
    <div class="card">
      <h3>Search Clients</h3>
      <form action="{{ url_for('doctor.search_client') }}" method="GET">
        <label for="query">Search by Name or ID</label>
        <input type="text" name="query" placeholder="Enter client name or ID" required>
        <button type="submit" class="btn">Search</button>
      </form>
    </div>

  </div>
</div>
{% endblock %}
